{"ast":null,"code":"var _jsxFileName = \"F:\\\\Works\\\\Formation OC\\\\SOUTENANCES\\\\P7\\\\groupomania\\\\client\\\\src\\\\components\\\\UserLoggedIn.jsx\";\nimport React, { useEffect, useState, Component } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class UserLoggedIn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userInfo: [],\n      DataIsLoaded: false\n    };\n  }\n\n  async componentDidMount() {\n    // const [profile, setProfile] = useState(null);\n    const user = JSON.parse(sessionStorage.getItem(\"isAuthenticate\"));\n    const token = user.pass;\n    const userId = user.id; // console.log(userId);\n\n    const url = `http://localhost:8080/api/profiles/${userId}`;\n    const reqOptions = {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    };\n\n    try {\n      const res = await fetch(url, reqOptions);\n      const userData = await res.json();\n      this.setState({\n        userInfo: userData,\n        DataIsLoaded: true\n      });\n      console.log(this.state);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  render() {\n    const {\n      DataisLoaded,\n      items\n    } = this.state;\n    if (!DataisLoaded) return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" Pleses wait some time.... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"UserLoggedIn\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 16\n    }, this);\n  }\n\n} // export default function UserLoggedIn(props) {\n//     // console.log(props.userId);\n//     constructor(props) {\n//         super(props);\n//         this.state = {\n//             items: [],\n//             DataisLoaded: false,\n//         };\n//     }\n//     async componentDidMount() {\n//     }\n//     // const [profile, setProfile] = useState(null);\n//     // const user = JSON.parse(sessionStorage.getItem(\"isAuthenticate\"));\n//     // const token = user.pass;\n//     // const user_id = props.userId;\n//     // const url = `http://localhost:8080/api/profiles/${user_id}`;\n//     // const requestOptions = {\n//     //     method: \"GET\",\n//     //     headers: {\n//     //         Authorization: `Bearer ${token}`,\n//     //         Accept: \"application/json\",\n//     //         \"Content-Type\": \"application/json\",\n//     //     },\n//     // };\n//     // // useEffect(() => {\n//     // //     userProfile();\n//     // // }, []);\n//     // const userProfile = async () => {\n//     //     const res = await fetch(url, requestOptions);\n//     //     const userData = await res.json();\n//     //     console.log(userData);\n//     //     setProfile(userData);\n//     //     // console.log(profile);\n//     // };\n//     return (\n//         <div className=\"userLoggedIn\">\n//             <p hidden>Afficher la photo de profile et le prénom de l'utilisateur connecté ici</p>\n//             {/* <img className=\"userLoggedIn__pix\" src={profile.profile.avatarUrl} alt=\"photo de profile\" />\n//             <span>{profile.profile.lastName}</span> */}\n//         </div>\n//     );\n// }","map":{"version":3,"names":["React","useEffect","useState","Component","UserLoggedIn","constructor","props","state","userInfo","DataIsLoaded","componentDidMount","user","JSON","parse","sessionStorage","getItem","token","pass","userId","id","url","reqOptions","method","headers","Authorization","Accept","res","fetch","userData","json","setState","console","log","err","render","DataisLoaded","items"],"sources":["F:/Works/Formation OC/SOUTENANCES/P7/groupomania/client/src/components/UserLoggedIn.jsx"],"sourcesContent":["import React, { useEffect, useState, Component } from \"react\";\r\n\r\nexport default class UserLoggedIn extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            userInfo: [],\r\n            DataIsLoaded: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        // const [profile, setProfile] = useState(null);\r\n        const user = JSON.parse(sessionStorage.getItem(\"isAuthenticate\"));\r\n        const token = user.pass;\r\n        const userId = user.id;\r\n\r\n        // console.log(userId);\r\n\r\n        const url = `http://localhost:8080/api/profiles/${userId}`;\r\n\r\n        const reqOptions = {\r\n            method: \"GET\",\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        };\r\n\r\n        try {\r\n            const res = await fetch(url, reqOptions);\r\n            const userData = await res.json();\r\n            this.setState({ userInfo: userData, DataIsLoaded: true });\r\n            console.log(this.state);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { DataisLoaded, items } = this.state;\r\n\r\n        if (!DataisLoaded)\r\n            return (\r\n                <div>\r\n                    <h1> Pleses wait some time.... </h1>{\" \"}\r\n                </div>\r\n            );\r\n\r\n        return <div>UserLoggedIn</div>;\r\n    }\r\n}\r\n\r\n// export default function UserLoggedIn(props) {\r\n//     // console.log(props.userId);\r\n\r\n//     constructor(props) {\r\n//         super(props);\r\n\r\n//         this.state = {\r\n//             items: [],\r\n//             DataisLoaded: false,\r\n//         };\r\n//     }\r\n\r\n//     async componentDidMount() {\r\n\r\n//     }\r\n\r\n//     // const [profile, setProfile] = useState(null);\r\n\r\n//     // const user = JSON.parse(sessionStorage.getItem(\"isAuthenticate\"));\r\n//     // const token = user.pass;\r\n\r\n//     // const user_id = props.userId;\r\n//     // const url = `http://localhost:8080/api/profiles/${user_id}`;\r\n\r\n//     // const requestOptions = {\r\n//     //     method: \"GET\",\r\n//     //     headers: {\r\n//     //         Authorization: `Bearer ${token}`,\r\n//     //         Accept: \"application/json\",\r\n//     //         \"Content-Type\": \"application/json\",\r\n//     //     },\r\n//     // };\r\n\r\n//     // // useEffect(() => {\r\n//     // //     userProfile();\r\n//     // // }, []);\r\n\r\n//     // const userProfile = async () => {\r\n//     //     const res = await fetch(url, requestOptions);\r\n//     //     const userData = await res.json();\r\n\r\n//     //     console.log(userData);\r\n\r\n//     //     setProfile(userData);\r\n\r\n//     //     // console.log(profile);\r\n//     // };\r\n\r\n//     return (\r\n//         <div className=\"userLoggedIn\">\r\n//             <p hidden>Afficher la photo de profile et le prénom de l'utilisateur connecté ici</p>\r\n//             {/* <img className=\"userLoggedIn__pix\" src={profile.profile.avatarUrl} alt=\"photo de profile\" />\r\n//             <span>{profile.profile.lastName}</span> */}\r\n//         </div>\r\n//     );\r\n// }\r\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,SAArC,QAAsD,OAAtD;;AAEA,eAAe,MAAMC,YAAN,SAA2BD,SAA3B,CAAqC;EAChDE,WAAW,CAACC,KAAD,EAAQ;IACf,MAAMA,KAAN;IAEA,KAAKC,KAAL,GAAa;MACTC,QAAQ,EAAE,EADD;MAETC,YAAY,EAAE;IAFL,CAAb;EAIH;;EAEsB,MAAjBC,iBAAiB,GAAG;IACtB;IACA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,gBAAvB,CAAX,CAAb;IACA,MAAMC,KAAK,GAAGL,IAAI,CAACM,IAAnB;IACA,MAAMC,MAAM,GAAGP,IAAI,CAACQ,EAApB,CAJsB,CAMtB;;IAEA,MAAMC,GAAG,GAAI,sCAAqCF,MAAO,EAAzD;IAEA,MAAMG,UAAU,GAAG;MACfC,MAAM,EAAE,KADO;MAEfC,OAAO,EAAE;QACLC,aAAa,EAAG,UAASR,KAAM,EAD1B;QAELS,MAAM,EAAE,kBAFH;QAGL,gBAAgB;MAHX;IAFM,CAAnB;;IASA,IAAI;MACA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACP,GAAD,EAAMC,UAAN,CAAvB;MACA,MAAMO,QAAQ,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAvB;MACA,KAAKC,QAAL,CAAc;QAAEtB,QAAQ,EAAEoB,QAAZ;QAAsBnB,YAAY,EAAE;MAApC,CAAd;MACAsB,OAAO,CAACC,GAAR,CAAY,KAAKzB,KAAjB;IACH,CALD,CAKE,OAAO0B,GAAP,EAAY;MACVF,OAAO,CAACC,GAAR,CAAYC,GAAZ;IACH;EACJ;;EAEDC,MAAM,GAAG;IACL,MAAM;MAAEC,YAAF;MAAgBC;IAAhB,IAA0B,KAAK7B,KAArC;IAEA,IAAI,CAAC4B,YAAL,EACI,oBACI;MAAA,wBACI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,EACyC,GADzC;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;IAMJ,oBAAO;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;EACH;;AAlD+C,C,CAqDpD;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}