{"ast":null,"code":"var _jsxFileName = \"F:\\\\Works\\\\Formation OC\\\\SOUTENANCES\\\\P7\\\\groupomania\\\\client\\\\src\\\\components\\\\UserLoggedIn.jsx\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserLoggedIn(props) {\n  // console.log(props.userId);\n  const user = JSON.parse(sessionStorage.getItem(\"isAuthenticate\"));\n  const token = user.pass;\n  const user_id = props.userId;\n  const url = `http://localhost:8080/api/profiles/${user_id}`;\n  const requestOptions = {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  let profile;\n\n  async function userProfile(firstName, lastName, avatar, birthDate, signupDate) {\n    try {\n      const res = await fetch(url, requestOptions);\n      const userData = await res.json();\n      console.log(userData);\n      const userInfo = {\n        firstName: userData.profile.firstName,\n        lastName: userData.profile.lastName,\n        avatar: userData.profile.avatarUrl,\n        birthDate: userData.profile.birthdate,\n        signupDate: userData.profile.inscrit_le\n      };\n      return profile = userInfo; // console.log(userInfo);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  window.onload = userProfile();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: profile(firstName)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 12\n  }, this);\n}\n_c = UserLoggedIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserLoggedIn\");","map":{"version":3,"names":["React","UserLoggedIn","props","user","JSON","parse","sessionStorage","getItem","token","pass","user_id","userId","url","requestOptions","method","headers","Authorization","Accept","profile","userProfile","firstName","lastName","avatar","birthDate","signupDate","res","fetch","userData","json","console","log","userInfo","avatarUrl","birthdate","inscrit_le","err","window","onload"],"sources":["F:/Works/Formation OC/SOUTENANCES/P7/groupomania/client/src/components/UserLoggedIn.jsx"],"sourcesContent":["import React from \"react\";\r\n\r\nexport default function UserLoggedIn(props) {\r\n    // console.log(props.userId);\r\n\r\n    const user = JSON.parse(sessionStorage.getItem(\"isAuthenticate\"));\r\n    const token = user.pass;\r\n\r\n    const user_id = props.userId;\r\n    const url = `http://localhost:8080/api/profiles/${user_id}`;\r\n\r\n    const requestOptions = {\r\n        method: \"GET\",\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n    };\r\n\r\n    let profile;\r\n\r\n    async function userProfile(firstName, lastName, avatar, birthDate, signupDate) {\r\n        try {\r\n            const res = await fetch(url, requestOptions);\r\n            const userData = await res.json();\r\n\r\n            console.log(userData);\r\n\r\n            const userInfo = {\r\n                firstName: userData.profile.firstName,\r\n                lastName: userData.profile.lastName,\r\n                avatar: userData.profile.avatarUrl,\r\n                birthDate: userData.profile.birthdate,\r\n                signupDate: userData.profile.inscrit_le,\r\n            };\r\n\r\n            return (profile = userInfo);\r\n            // console.log(userInfo);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    window.onload = userProfile();\r\n\r\n    return <div>{profile(firstName)}</div>;\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,eAAe,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;EACxC;EAEA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,gBAAvB,CAAX,CAAb;EACA,MAAMC,KAAK,GAAGL,IAAI,CAACM,IAAnB;EAEA,MAAMC,OAAO,GAAGR,KAAK,CAACS,MAAtB;EACA,MAAMC,GAAG,GAAI,sCAAqCF,OAAQ,EAA1D;EAEA,MAAMG,cAAc,GAAG;IACnBC,MAAM,EAAE,KADW;IAEnBC,OAAO,EAAE;MACLC,aAAa,EAAG,UAASR,KAAM,EAD1B;MAELS,MAAM,EAAE,kBAFH;MAGL,gBAAgB;IAHX;EAFU,CAAvB;EASA,IAAIC,OAAJ;;EAEA,eAAeC,WAAf,CAA2BC,SAA3B,EAAsCC,QAAtC,EAAgDC,MAAhD,EAAwDC,SAAxD,EAAmEC,UAAnE,EAA+E;IAC3E,IAAI;MACA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACd,GAAD,EAAMC,cAAN,CAAvB;MACA,MAAMc,QAAQ,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAvB;MAEAC,OAAO,CAACC,GAAR,CAAYH,QAAZ;MAEA,MAAMI,QAAQ,GAAG;QACbX,SAAS,EAAEO,QAAQ,CAACT,OAAT,CAAiBE,SADf;QAEbC,QAAQ,EAAEM,QAAQ,CAACT,OAAT,CAAiBG,QAFd;QAGbC,MAAM,EAAEK,QAAQ,CAACT,OAAT,CAAiBc,SAHZ;QAIbT,SAAS,EAAEI,QAAQ,CAACT,OAAT,CAAiBe,SAJf;QAKbT,UAAU,EAAEG,QAAQ,CAACT,OAAT,CAAiBgB;MALhB,CAAjB;MAQA,OAAQhB,OAAO,GAAGa,QAAlB,CAdA,CAeA;IACH,CAhBD,CAgBE,OAAOI,GAAP,EAAY;MACVN,OAAO,CAACC,GAAR,CAAYK,GAAZ;IACH;EACJ;;EAEDC,MAAM,CAACC,MAAP,GAAgBlB,WAAW,EAA3B;EAEA,oBAAO;IAAA,UAAMD,OAAO,CAACE,SAAD;EAAb;IAAA;IAAA;IAAA;EAAA,QAAP;AACH;KA7CuBnB,Y"},"metadata":{},"sourceType":"module"}