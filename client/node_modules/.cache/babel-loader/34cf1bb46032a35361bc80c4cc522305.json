{"ast":null,"code":"var _jsxFileName = \"F:\\\\Works\\\\Formation OC\\\\SOUTENANCES\\\\P7\\\\groupomania\\\\client\\\\src\\\\webpages\\\\articles\\\\Posts.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport { BiComment, BiEditAlt, BiRepost } from \"react-icons/bi\"; // Import pour afficher le format de la date\n\nimport DateTime from \"../../components/DateTime\"; // Import pour la gestion des commentaires\n\nimport Comments from \"../../components/Comments\"; // import CommentForm from \"../../components/CommentForm\";\n// Import pour la gestion des posts\n\nimport EditPost from \"../../components/EditPost\";\nimport DeletePost from \"../../components/DeletePost\"; // Permet d'afficher les informations de l'utilisateur qui a créé un post losque celui-ci est un post partagé\n\nimport RealAuthor from \"../../components/usersProfile/RealAuthor\"; // Import pour la gestion des erreurs\n\nimport ErrorBoundary from \"../../components/ErrorBoundary\"; // Import Socials\n\nimport SharePost from \"../../components/SharePost\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Posts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      posts: [],\n      DataIsLoaded: false,\n      access: this.props.access\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.showComments = this.showComments.bind(this);\n  }\n\n  handleClick(id) {\n    this.setState(state => ({\n      isToggleOn: !state.isToggleOn\n    }));\n    this.setState({\n      EDIT: id\n    });\n  }\n\n  showComments(id) {\n    this.setState(state => ({\n      isShowOn: !state.isShowOn\n    }));\n    this.setState({\n      commentsPost: id\n    });\n  }\n\n  async componentDidMount() {\n    const {\n      access\n    } = this.state;\n    const token = access;\n    const decoded = jwt_decode(token); // const user_role = decoded.role;\n    // const user_id = decoded.user_id;\n\n    const url = `http://localhost:8080/api/articles`;\n    const reqOptions = {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    };\n\n    try {\n      const res = await fetch(url, reqOptions);\n      const data = await res.json();\n      this.setState({\n        posts: data.articlesFound,\n        DataIsLoaded: true\n      }); // console.log(data.articlesFound);\n    } catch (err) {\n      // Ajouter un message d'erreur\n      console.log(err);\n    }\n  }\n\n  render() {\n    const {\n      DataIsLoaded,\n      posts,\n      access\n    } = this.state; // On récupère de nouveau le cookie\n\n    const decoded = jwt_decode(access); // console.log(decoded);\n\n    const user_id = decoded.userId;\n    const role = decoded.role;\n    if (!DataIsLoaded) return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" Pleses wait some time.... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }, this);\n    const showPosts = posts.slice(0, 10).map(post => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"article\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/articles/\" + post.article.id,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"article__header\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"article__header--author\",\n              children: [!post.article.author_avatar ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"author__img initiales\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: `${post.article.author_firstName} ${post.article.author_lastName}\n                                            `.match(/\\b\\w/g).join(\"\").toUpperCase()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 37\n              }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"author__img\",\n                src: post.article.author_avatar\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"article__info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"article__info--wrapper\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"author__name\",\n                    children: post.article.author_firstName + \" \" + post.article.author_lastName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"author__postDate\",\n                    children: /*#__PURE__*/_jsxDEV(DateTime, {\n                      datetime: post.article.timestamp,\n                      access: access\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 127,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 37\n                }, this), !post.article.is_shared ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"sharedFlex\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"article__header--shared\",\n                    children: /*#__PURE__*/_jsxDEV(BiRepost, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 134,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"a partag\\xE9 cet article\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"article__content\",\n            children: [post.article.is_shared ? /*#__PURE__*/_jsxDEV(RealAuthor, {\n              realAuthor_id: post.article.original_author_id,\n              dateTime: post.article.post_shared_timestamp,\n              access: access\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 33\n            }, this) : null, /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"article__header--title\",\n              children: post.article.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this), post.article.content, !post.article.images ? null : /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"article__content--img\",\n              src: post.article.images,\n              alt: \"Photo de l'article \" + post.article.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"article__footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"article__footer--social\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"social__wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"social\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"social__icon\",\n                  children: /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n                    children: /*#__PURE__*/_jsxDEV(SharePost, {\n                      post_id: post.article.id,\n                      access: access\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 173,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"social__count\",\n                  children: post.article.shares\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"social\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn\",\n                  onClick: () => this.showComments(post.article.id),\n                  children: [/*#__PURE__*/_jsxDEV(BiComment, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"social__count\",\n                    children: post.article.comments\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this), post.article.is_shared ?\n            /*#__PURE__*/\n            // si l'article est un partage\n            _jsxDEV(\"div\", {\n              className: \"social__icon social__postManage\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"social__icon cancelShare\",\n                children: user_id === post.article.author ?\n                /*#__PURE__*/\n                // Si l'utilisateur est le propriétaire\n                _jsxDEV(\"div\", {\n                  className: \"social__icon shareBtn\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    type: \"button\",\n                    className: \"btn\",\n                    children: [/*#__PURE__*/_jsxDEV(SharePost // id=\"cancelShare\"\n                    , {\n                      post_id: post.article.shared_id,\n                      access: access\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 53\n                    }, this), \"cancel\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 45\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"social__icon deletePost\",\n                children: user_id !== post.article.author && role === \"admin\" ?\n                /*#__PURE__*/\n                // Si l'utilisateur n'est pas le propriétaire et qu'il est admin\n                _jsxDEV(DeletePost, {\n                  post_id: post.article.id,\n                  author_id: post.article.author,\n                  access: this.props.access\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 45\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 33\n            }, this) :\n            /*#__PURE__*/\n            // Si c'est un article normal\n            _jsxDEV(\"div\", {\n              className: \"social__icon social__postManage\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"social__icon editPost\",\n                children: user_id === post.article.author ?\n                /*#__PURE__*/\n                // Si l'utilisateur est le propriétaire il peut modifier l'article\n                _jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn\",\n                  onClick: () => this.handleClick(post.article.id),\n                  children: /*#__PURE__*/_jsxDEV(BiEditAlt, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 45\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"social__icon deletePost\",\n                children: user_id === post.article.author || role === \"admin\" ? /*#__PURE__*/_jsxDEV(DeletePost, {\n                  post_id: post.article.id,\n                  author_id: post.article.author,\n                  access: this.props.access\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 45\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"article__displayComponents\",\n            children: [this.state.EDIT == post.article.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"article__editPost\",\n              style: {\n                display: this.state.isToggleOn ? \"block\" : \"none\"\n              },\n              children: /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n                children: /*#__PURE__*/_jsxDEV(EditPost, {\n                  post_id: post.article.id,\n                  author_id: post.article.author,\n                  post_title: post.article.title,\n                  post_content: post.article.content,\n                  post_img: post.article.images,\n                  access: access\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 33\n            }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"article__comments\",\n              children: this.state.commentsPost == post.article.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"comments showAllComments\",\n                style: {\n                  display: this.state.isShowOn ? \"block\" : \"none\"\n                },\n                children: /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n                  children: /*#__PURE__*/_jsxDEV(Comments, {\n                    post_id: post.article.id,\n                    access: access\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 37\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this)]\n      }, post.article.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this);\n    });\n    return showPosts;\n  }\n\n}\n\nexport default Posts;","map":{"version":3,"names":["React","Link","jwt_decode","BiComment","BiEditAlt","BiRepost","DateTime","Comments","EditPost","DeletePost","RealAuthor","ErrorBoundary","SharePost","Posts","Component","constructor","props","state","posts","DataIsLoaded","access","handleClick","bind","showComments","id","setState","isToggleOn","EDIT","isShowOn","commentsPost","componentDidMount","token","decoded","url","reqOptions","method","headers","Authorization","Accept","res","fetch","data","json","articlesFound","err","console","log","render","user_id","userId","role","showPosts","slice","map","post","article","author_avatar","author_firstName","author_lastName","match","join","toUpperCase","timestamp","is_shared","original_author_id","post_shared_timestamp","title","content","images","shares","comments","author","shared_id","display"],"sources":["F:/Works/Formation OC/SOUTENANCES/P7/groupomania/client/src/webpages/articles/Posts.js"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nimport { BiComment, BiEditAlt, BiRepost } from \"react-icons/bi\";\r\n\r\n// Import pour afficher le format de la date\r\nimport DateTime from \"../../components/DateTime\";\r\n\r\n// Import pour la gestion des commentaires\r\nimport Comments from \"../../components/Comments\";\r\n// import CommentForm from \"../../components/CommentForm\";\r\n\r\n// Import pour la gestion des posts\r\nimport EditPost from \"../../components/EditPost\";\r\nimport DeletePost from \"../../components/DeletePost\";\r\n\r\n// Permet d'afficher les informations de l'utilisateur qui a créé un post losque celui-ci est un post partagé\r\nimport RealAuthor from \"../../components/usersProfile/RealAuthor\";\r\n\r\n// Import pour la gestion des erreurs\r\nimport ErrorBoundary from \"../../components/ErrorBoundary\";\r\n\r\n// Import Socials\r\nimport SharePost from \"../../components/SharePost\";\r\n\r\nclass Posts extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            posts: [],\r\n            DataIsLoaded: false,\r\n            access: this.props.access,\r\n        };\r\n\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.showComments = this.showComments.bind(this);\r\n    }\r\n\r\n    handleClick(id) {\r\n        this.setState((state) => ({\r\n            isToggleOn: !state.isToggleOn,\r\n        }));\r\n        this.setState({ EDIT: id });\r\n    }\r\n\r\n    showComments(id) {\r\n        this.setState((state) => ({\r\n            isShowOn: !state.isShowOn,\r\n        }));\r\n        this.setState({ commentsPost: id });\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { access } = this.state;\r\n\r\n        const token = access;\r\n        const decoded = jwt_decode(token);\r\n        // const user_role = decoded.role;\r\n        // const user_id = decoded.user_id;\r\n\r\n        const url = `http://localhost:8080/api/articles`;\r\n        const reqOptions = {\r\n            method: \"GET\",\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        };\r\n\r\n        try {\r\n            const res = await fetch(url, reqOptions);\r\n            const data = await res.json();\r\n\r\n            this.setState({ posts: data.articlesFound, DataIsLoaded: true });\r\n            // console.log(data.articlesFound);\r\n        } catch (err) {\r\n            // Ajouter un message d'erreur\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { DataIsLoaded, posts, access } = this.state;\r\n\r\n        // On récupère de nouveau le cookie\r\n        const decoded = jwt_decode(access);\r\n        // console.log(decoded);\r\n        const user_id = decoded.userId;\r\n        const role = decoded.role;\r\n\r\n        if (!DataIsLoaded)\r\n            return (\r\n                <div>\r\n                    <h1> Pleses wait some time.... </h1>\r\n                </div>\r\n            );\r\n\r\n        const showPosts = posts.slice(0, 10).map((post) => {\r\n            return (\r\n                <div className=\"article\" key={post.article.id}>\r\n                    <Link to={\"/articles/\" + post.article.id}>\r\n                        <div className=\"article__header\">\r\n                            <div className=\"article__header--author\">\r\n                                {!post.article.author_avatar ? (\r\n                                    <div className=\"author__img initiales\">\r\n                                        <p>\r\n                                            {`${post.article.author_firstName} ${post.article.author_lastName}\r\n                                            `\r\n                                                .match(/\\b\\w/g)\r\n                                                .join(\"\")\r\n                                                .toUpperCase()}\r\n                                        </p>\r\n                                    </div>\r\n                                ) : (\r\n                                    <img className=\"author__img\" src={post.article.author_avatar} />\r\n                                )}\r\n\r\n                                <div className=\"article__info\">\r\n                                    <div className=\"article__info--wrapper\">\r\n                                        <p className=\"author__name\">\r\n                                            {post.article.author_firstName + \" \" + post.article.author_lastName}\r\n                                        </p>\r\n                                        <div className=\"author__postDate\">\r\n                                            <DateTime datetime={post.article.timestamp} access={access} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {!post.article.is_shared ? null : (\r\n                                        <div className=\"sharedFlex\">\r\n                                            <div className=\"article__header--shared\">\r\n                                                <BiRepost />\r\n                                            </div>\r\n                                            <p>a partagé cet article</p>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Affichage du contenu de l'article */}\r\n                        <div className=\"article__content\">\r\n                            {post.article.is_shared ? (\r\n                                <RealAuthor\r\n                                    realAuthor_id={post.article.original_author_id}\r\n                                    dateTime={post.article.post_shared_timestamp}\r\n                                    access={access}\r\n                                />\r\n                            ) : null}\r\n                            <h2 className=\"article__header--title\">{post.article.title}</h2>\r\n\r\n                            {post.article.content}\r\n                            {!post.article.images ? null : (\r\n                                <img\r\n                                    className=\"article__content--img\"\r\n                                    src={post.article.images}\r\n                                    alt={\"Photo de l'article \" + post.article.title}\r\n                                />\r\n                            )}\r\n                        </div>\r\n                    </Link>\r\n\r\n                    {/* FOOTER DES ARTICLES */}\r\n                    <div className=\"article__footer\">\r\n                        <div className=\"article__footer--social\">\r\n                            {/* PARTAGER - SHARE */}\r\n                            <div className=\"social__wrapper\">\r\n                                <div className=\"social\">\r\n                                    <span className=\"social__icon\">\r\n                                        <ErrorBoundary>\r\n                                            <SharePost post_id={post.article.id} access={access} />\r\n                                        </ErrorBoundary>\r\n                                    </span>\r\n                                    <span className=\"social__count\">{post.article.shares}</span>\r\n                                </div>\r\n\r\n                                {/* COMMENTAIRES BUTTON */}\r\n                                <div className=\"social\">\r\n                                    {/* Ce bouton doit ouvrir la div contenant les composants de commentaires */}\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        className=\"btn\"\r\n                                        onClick={() => this.showComments(post.article.id)}\r\n                                    >\r\n                                        <BiComment />\r\n                                        <span className=\"social__count\">{post.article.comments}</span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* BOUTONS POUR MODIFIER ET SUPPRIMER UN POST */}\r\n                            {post.article.is_shared ? (\r\n                                // si l'article est un partage\r\n                                <div className=\"social__icon social__postManage\">\r\n                                    <div className=\"social__icon cancelShare\">\r\n                                        {/* Mettre le composant share ici */}\r\n                                        {user_id === post.article.author ? (\r\n                                            // Si l'utilisateur est le propriétaire\r\n                                            <div className=\"social__icon shareBtn\">\r\n                                                {/* Cancel Sharing */}\r\n                                                <label type=\"button\" className=\"btn\">\r\n                                                    <SharePost\r\n                                                        // id=\"cancelShare\"\r\n                                                        post_id={post.article.shared_id}\r\n                                                        access={access}\r\n                                                    />\r\n                                                    cancel\r\n                                                </label>\r\n                                            </div>\r\n                                        ) : null}\r\n                                    </div>\r\n                                    <div className=\"social__icon deletePost\">\r\n                                        {user_id !== post.article.author && role === \"admin\" ? (\r\n                                            // Si l'utilisateur n'est pas le propriétaire et qu'il est admin\r\n                                            <DeletePost\r\n                                                post_id={post.article.id}\r\n                                                author_id={post.article.author}\r\n                                                access={this.props.access}\r\n                                            />\r\n                                        ) : null}\r\n                                    </div>\r\n                                </div>\r\n                            ) : (\r\n                                // Si c'est un article normal\r\n                                <div className=\"social__icon social__postManage\">\r\n                                    <div className=\"social__icon editPost\">\r\n                                        {user_id === post.article.author ? (\r\n                                            // Si l'utilisateur est le propriétaire il peut modifier l'article\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"btn\"\r\n                                                onClick={() => this.handleClick(post.article.id)}\r\n                                            >\r\n                                                <BiEditAlt />\r\n                                            </button>\r\n                                        ) : null}\r\n                                    </div>\r\n                                    <div className=\"social__icon deletePost\">\r\n                                        {user_id === post.article.author || role === \"admin\" ? (\r\n                                            <DeletePost\r\n                                                post_id={post.article.id}\r\n                                                author_id={post.article.author}\r\n                                                access={this.props.access}\r\n                                            />\r\n                                        ) : null}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* AFFICHAGE DES COMPOSANTS DE L'ARTICLE */}\r\n                        <div className=\"article__displayComponents\">\r\n                            {/* AFFICHAGE DU FORMULAIRE POUR MODIFIER L'ARTICLE */}\r\n\r\n                            {this.state.EDIT == post.article.id ? (\r\n                                <div\r\n                                    className=\"article__editPost\"\r\n                                    style={{\r\n                                        display: this.state.isToggleOn ? \"block\" : \"none\",\r\n                                    }}\r\n                                >\r\n                                    <ErrorBoundary>\r\n                                        <EditPost\r\n                                            post_id={post.article.id}\r\n                                            author_id={post.article.author}\r\n                                            post_title={post.article.title}\r\n                                            post_content={post.article.content}\r\n                                            post_img={post.article.images}\r\n                                            access={access}\r\n                                        />\r\n                                    </ErrorBoundary>\r\n                                </div>\r\n                            ) : null}\r\n\r\n                            {/* AFFICHAGE DES COMPOSANTS COMMENTAIRE */}\r\n                            <div className=\"article__comments\">\r\n                                {/* AFFICHAGE DES COMMENTAIRES DE L'ARTICLE */}\r\n                                {this.state.commentsPost == post.article.id ? (\r\n                                    <div\r\n                                        className=\"comments showAllComments\"\r\n                                        style={{ display: this.state.isShowOn ? \"block\" : \"none\" }}\r\n                                    >\r\n                                        <ErrorBoundary>\r\n                                            <Comments post_id={post.article.id} access={access} />\r\n                                        </ErrorBoundary>\r\n                                    </div>\r\n                                ) : null}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n\r\n        return showPosts;\r\n    }\r\n}\r\nexport default Posts;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}