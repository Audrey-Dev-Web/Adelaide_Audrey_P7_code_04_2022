{"ast":null,"code":"var _jsxFileName = \"F:\\\\Works\\\\Formation OC\\\\SOUTENANCES\\\\P7\\\\groupomania\\\\client\\\\src\\\\webpages\\\\articles\\\\Post.js\";\nimport React, { Component } from \"react\";\nimport { useParams } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Post extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: [],\n      DataIsLoaded: false\n    };\n  }\n\n  async componentDidMount() {\n    let {\n      postSlug\n    } = useParams();\n    const user = JSON.parse(sessionStorage.getItem(\"isAuthenticate\"));\n    const token = user.pass;\n    const url = `http://localhost:8080/api/articles/${postSlug}`;\n    const reqOptions = {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    };\n\n    try {\n      const res = await fetch(url, reqOptions);\n      const postData = await res.json();\n      this.setState({\n        post: postData.articlesFound,\n        DataIsLoaded: true\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  render() {\n    const {\n      DataIsLoaded,\n      post\n    } = this.state;\n    if (!DataIsLoaded) return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" Pleses wait some time.... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: post.articlesFound.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 16\n    }, this);\n  }\n\n}\nexport default Post; // import React, { useEffect, useState } from \"react\";\n// import { useParams } from \"react-router\";\n// import { Route } from \"react-router-dom\";\n// function Post() {\n//     let { postSlug } = useParams();\n//     const [post, setPost] = useState(\"\");\n//     useEffect(async () => {\n//         console.log(\"=====> POST SLUG\");\n//         console.log(postSlug);\n//         // Fetch post using the postSlug\n//         const user = JSON.parse(sessionStorage.getItem(\"isAuthenticate\"));\n//         // console.log(user.pass);\n//         const url = `http://localhost:8080/api/articles/${postSlug}`;\n//         const token = user.pass;\n//         const reqOptions = {\n//             method: \"GET\",\n//             headers: {\n//                 Authorization: `Bearer ${token}`,\n//                 Accept: \"application/json\",\n//                 \"Content-Type\": \"application/json\",\n//             },\n//         };\n//         try {\n//             const res = await fetch(url, reqOptions);\n//             const data = await res.json();\n//             // setPost(data);\n//             console.log(post);\n//         } catch (err) {\n//             console.log(err);\n//         }\n//     }, [postSlug]);\n//     return (\n//         <div className=\"post\">\n//             <div className=\"post__header\">\n//                 {/* <div className=\"post__header--title\">{post.articleFound.title}</div> */}\n//             </div>\n//         </div>\n//     );\n// }\n// export default Post;","map":{"version":3,"names":["React","Component","useParams","Post","constructor","props","state","post","DataIsLoaded","componentDidMount","postSlug","user","JSON","parse","sessionStorage","getItem","token","pass","url","reqOptions","method","headers","Authorization","Accept","res","fetch","postData","json","setState","articlesFound","err","console","log","render","title"],"sources":["F:/Works/Formation OC/SOUTENANCES/P7/groupomania/client/src/webpages/articles/Post.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { useParams } from \"react-router\";\r\n\r\nexport class Post extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            post: [],\r\n            DataIsLoaded: false,\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let { postSlug } = useParams();\r\n\r\n        const user = JSON.parse(sessionStorage.getItem(\"isAuthenticate\"));\r\n        const token = user.pass;\r\n\r\n        const url = `http://localhost:8080/api/articles/${postSlug}`;\r\n        const reqOptions = {\r\n            method: \"GET\",\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        };\r\n\r\n        try {\r\n            const res = await fetch(url, reqOptions);\r\n            const postData = await res.json();\r\n            this.setState({ post: postData.articlesFound, DataIsLoaded: true });\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { DataIsLoaded, post } = this.state;\r\n\r\n        if (!DataIsLoaded)\r\n            return (\r\n                <div>\r\n                    <h1> Pleses wait some time.... </h1>{\" \"}\r\n                </div>\r\n            );\r\n\r\n        return <div>{post.articlesFound.title}</div>;\r\n    }\r\n}\r\n\r\nexport default Post;\r\n\r\n// import React, { useEffect, useState } from \"react\";\r\n// import { useParams } from \"react-router\";\r\n// import { Route } from \"react-router-dom\";\r\n\r\n// function Post() {\r\n//     let { postSlug } = useParams();\r\n//     const [post, setPost] = useState(\"\");\r\n\r\n//     useEffect(async () => {\r\n//         console.log(\"=====> POST SLUG\");\r\n//         console.log(postSlug);\r\n//         // Fetch post using the postSlug\r\n//         const user = JSON.parse(sessionStorage.getItem(\"isAuthenticate\"));\r\n//         // console.log(user.pass);\r\n\r\n//         const url = `http://localhost:8080/api/articles/${postSlug}`;\r\n\r\n//         const token = user.pass;\r\n//         const reqOptions = {\r\n//             method: \"GET\",\r\n//             headers: {\r\n//                 Authorization: `Bearer ${token}`,\r\n//                 Accept: \"application/json\",\r\n//                 \"Content-Type\": \"application/json\",\r\n//             },\r\n//         };\r\n\r\n//         try {\r\n//             const res = await fetch(url, reqOptions);\r\n//             const data = await res.json();\r\n\r\n//             // setPost(data);\r\n\r\n//             console.log(post);\r\n//         } catch (err) {\r\n//             console.log(err);\r\n//         }\r\n//     }, [postSlug]);\r\n\r\n//     return (\r\n//         <div className=\"post\">\r\n//             <div className=\"post__header\">\r\n//                 {/* <div className=\"post__header--title\">{post.articleFound.title}</div> */}\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// }\r\n\r\n// export default Post;\r\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,SAAT,QAA0B,cAA1B;;AAEA,OAAO,MAAMC,IAAN,SAAmBF,SAAnB,CAA6B;EAChCG,WAAW,CAACC,KAAD,EAAQ;IACf,MAAMA,KAAN;IAEA,KAAKC,KAAL,GAAa;MACTC,IAAI,EAAE,EADG;MAETC,YAAY,EAAE;IAFL,CAAb;EAIH;;EAEsB,MAAjBC,iBAAiB,GAAG;IACtB,IAAI;MAAEC;IAAF,IAAeR,SAAS,EAA5B;IAEA,MAAMS,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,gBAAvB,CAAX,CAAb;IACA,MAAMC,KAAK,GAAGL,IAAI,CAACM,IAAnB;IAEA,MAAMC,GAAG,GAAI,sCAAqCR,QAAS,EAA3D;IACA,MAAMS,UAAU,GAAG;MACfC,MAAM,EAAE,KADO;MAEfC,OAAO,EAAE;QACLC,aAAa,EAAG,UAASN,KAAM,EAD1B;QAELO,MAAM,EAAE,kBAFH;QAGL,gBAAgB;MAHX;IAFM,CAAnB;;IASA,IAAI;MACA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACP,GAAD,EAAMC,UAAN,CAAvB;MACA,MAAMO,QAAQ,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAvB;MACA,KAAKC,QAAL,CAAc;QAAErB,IAAI,EAAEmB,QAAQ,CAACG,aAAjB;QAAgCrB,YAAY,EAAE;MAA9C,CAAd;IACH,CAJD,CAIE,OAAOsB,GAAP,EAAY;MACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACH;EACJ;;EAEDG,MAAM,GAAG;IACL,MAAM;MAAEzB,YAAF;MAAgBD;IAAhB,IAAyB,KAAKD,KAApC;IAEA,IAAI,CAACE,YAAL,EACI,oBACI;MAAA,wBACI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,EACyC,GADzC;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;IAMJ,oBAAO;MAAA,UAAMD,IAAI,CAACsB,aAAL,CAAmBK;IAAzB;MAAA;MAAA;MAAA;IAAA,QAAP;EACH;;AA9C+B;AAiDpC,eAAe/B,IAAf,C,CAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA"},"metadata":{},"sourceType":"module"}