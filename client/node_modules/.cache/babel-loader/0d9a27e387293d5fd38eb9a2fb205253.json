{"ast":null,"code":"var _jsxFileName = \"F:\\\\Works\\\\Formation OC\\\\SOUTENANCES\\\\P7\\\\groupomania\\\\client\\\\src\\\\webpages\\\\articles\\\\Posts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport { BiComment, BiEditAlt, BiRepost } from \"react-icons/bi\"; // Import pour afficher le format de la date\n\nimport DateTime from \"../../components/DateTime\"; // Import pour la gestion des commentaires\n\nimport Comments from \"../../components/comments/Comments\"; // import CommentForm from \"../../components/CommentForm\";\n// Import pour la gestion des posts\n\nimport EditPost from \"../../components/articles/EditPost\";\nimport DeletePost from \"../../components/articles/DeletePost\"; // Permet d'afficher les informations de l'utilisateur qui a créé un post losque celui-ci est un post partagé\n\nimport UserData from \"../../components/usersProfile/UserData\"; // Import pour la gestion des erreurs\n\nimport ErrorBoundary from \"../../components/ErrorBoundary\"; // Import Socials\n\nimport SharePost from \"../../components/articles/SharePost\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Posts(props) {\n  _s();\n\n  const {\n    access\n  } = props;\n  const [postEdit, setPostEdit] = useState({\n    is_open: false,\n    id: null\n  }); // const [postEdit_id, setPostEdit_id] = useState(0);\n\n  const [toggleComments, setToggleComments] = useState({\n    comments_is_open: false,\n    id: null\n  }); // const [toggleComments_id, setToggleComments_id] = useState(0);\n\n  const [posts, setPosts] = useState({\n    posts: []\n  });\n  const decoded = jwt_decode(access);\n  const user_id = decoded.userId;\n  const role = decoded.role;\n  const url = `http://localhost:8080/api/articles`;\n  const reqOptions = {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${access}`,\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    }\n  };\n\n  const showEditForm = id => {\n    if (postEdit.is_open) {\n      setPostEdit({\n        is_open: false,\n        id: id\n      });\n\n      if (id !== postEdit.id) {\n        setPostEdit({\n          is_open: true,\n          id: id\n        });\n      }\n    } else {\n      setPostEdit({\n        is_open: true,\n        id: id\n      });\n    } // setPostEdit(!postEdit);\n    // setPostEdit_id(id);\n\n  };\n\n  const showComments = id => {\n    if (toggleComments.comments_is_open) {\n      setToggleComments({\n        comments_is_open: false,\n        id: id\n      });\n\n      if (id !== toggleComments.id) {\n        setToggleComments({\n          comments_is_open: true,\n          id: id\n        });\n      }\n    } else {\n      setToggleComments({\n        comments_is_open: true,\n        id: id\n      });\n    }\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      const res = await fetch(url, reqOptions);\n      const data = await res.json();\n      setPosts({\n        posts: data.articlesFound,\n        DataIdLoaded: true\n      });\n    }\n\n    fetchData();\n  }, [posts]);\n  const postsData = posts.posts;\n\n  if (!posts.DataIdLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Aucune donn\\xE9e a afficher pour le moment...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this);\n  }\n\n  const showPosts = postsData.map(post => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"article\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/articles/\" + post.article.id,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"article__header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"article__header--author\",\n            children: /*#__PURE__*/_jsxDEV(UserData, {\n              realAuthor_id: post.article.author,\n              dateTime: post.article.timestamp,\n              access: access\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"article__header--share\",\n            children: !post.article.is_shared ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sharedFlex\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"article__header--shared\",\n                children: /*#__PURE__*/_jsxDEV(BiRepost, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"A partag\\xE9 \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"article__content\",\n          children: [post.article.is_shared ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"article__shareAuthor\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"article__shareAuthor--margin\",\n              children: /*#__PURE__*/_jsxDEV(UserData, {\n                realAuthor_id: post.article.original_author_id,\n                dateTime: post.article.post_shared_timestamp,\n                access: access\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 29\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"article__header--title\",\n            children: post.article.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this), post.article.content, !post.article.images ? null : /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"article__content--img\",\n            src: post.article.images,\n            alt: \"Photo de l'article \" + post.article.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"article__footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"article__footer--social\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"social__wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"social\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"social__icon\",\n                children: /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n                  children: /*#__PURE__*/_jsxDEV(SharePost, {\n                    post_id: post.article.id,\n                    access: access\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"social__count\",\n                children: post.article.shares\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"social\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn\",\n                onClick: () => showComments(post.article.id),\n                children: [/*#__PURE__*/_jsxDEV(BiComment, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"social__count\",\n                  children: post.article.comments\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this), post.article.is_shared ?\n          /*#__PURE__*/\n          // si l'article est un partage\n          _jsxDEV(\"div\", {\n            className: \"social__icon social__postManage\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"social__icon cancelShare\",\n              children: user_id === post.article.author ?\n              /*#__PURE__*/\n              // Si l'utilisateur est le propriétaire\n              _jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"social__icon shareBtn\",\n                  children: /*#__PURE__*/_jsxDEV(SharePost // id=\"cancelShare\"\n                  , {\n                    is_shared: post.article.is_shared,\n                    post_id: post.article.shared_id,\n                    access: access\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"social__icon deletePost\",\n                  children: user_id !== post.article.author || role === \"admin\" ?\n                  /*#__PURE__*/\n                  // Si l'utilisateur n'est pas le propriétaire et qu'il est admin\n                  _jsxDEV(DeletePost, {\n                    post_id: post.article.id,\n                    author_id: post.article.author,\n                    access: access\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 53\n                  }, this) : null\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 41\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"social__icon deletePost\",\n              children: user_id !== post.article.author && role === \"admin\" ?\n              /*#__PURE__*/\n              // Si l'utilisateur n'est pas le propriétaire et qu'il est admin\n              _jsxDEV(DeletePost, {\n                post_id: post.article.id,\n                author_id: post.article.author,\n                access: access\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 41\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 29\n          }, this) :\n          /*#__PURE__*/\n          // Si c'est un article normal\n          _jsxDEV(\"div\", {\n            className: \"social__icon social__postManage\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"social__icon editPost\",\n              children: user_id === post.article.author ?\n              /*#__PURE__*/\n              // Si l'utilisateur est le propriétaire il peut modifier l'article\n              _jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn\",\n                onClick: () => showEditForm(post.article.id),\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  hidden: true,\n                  children: \"Afficher le formulaire de modification\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(BiEditAlt, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 41\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"social__icon deletePost\",\n              children: user_id === post.article.author || role === \"admin\" ? /*#__PURE__*/_jsxDEV(DeletePost, {\n                post_id: post.article.id,\n                author_id: post.article.author,\n                access: access\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 41\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"article__displayComponents\",\n          children: [postEdit.id == post.article.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"article__editPost\",\n            style: {\n              display: postEdit.is_open ? \"block\" : \"none\"\n            },\n            children: /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n              children: /*#__PURE__*/_jsxDEV(EditPost, {\n                post_id: post.article.id,\n                author_id: post.article.author,\n                post_title: post.article.title,\n                post_content: post.article.content,\n                post_img: post.article.images,\n                access: access\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 29\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"article__comments\",\n            children: toggleComments.id == post.article.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"comments showAllComments\",\n              style: {\n                display: toggleComments.comments_is_open ? \"block\" : \"none\"\n              },\n              children: /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n                children: /*#__PURE__*/_jsxDEV(Comments, {\n                  post_id: post.article.id,\n                  access: access\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 33\n            }, this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this)]\n    }, post.article.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this);\n  });\n  return showPosts;\n}\n\n_s(Posts, \"byytWTT3WZfRLFDKSujHO0XwV2k=\");\n\n_c = Posts;\nexport default Posts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","Link","jwt_decode","BiComment","BiEditAlt","BiRepost","DateTime","Comments","EditPost","DeletePost","UserData","ErrorBoundary","SharePost","Posts","props","access","postEdit","setPostEdit","is_open","id","toggleComments","setToggleComments","comments_is_open","posts","setPosts","decoded","user_id","userId","role","url","reqOptions","method","headers","Authorization","Accept","showEditForm","showComments","fetchData","res","fetch","data","json","articlesFound","DataIdLoaded","postsData","showPosts","map","post","article","author","timestamp","is_shared","original_author_id","post_shared_timestamp","title","content","images","shares","comments","shared_id","display"],"sources":["F:/Works/Formation OC/SOUTENANCES/P7/groupomania/client/src/webpages/articles/Posts.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nimport { BiComment, BiEditAlt, BiRepost } from \"react-icons/bi\";\r\n\r\n// Import pour afficher le format de la date\r\nimport DateTime from \"../../components/DateTime\";\r\n\r\n// Import pour la gestion des commentaires\r\nimport Comments from \"../../components/comments/Comments\";\r\n// import CommentForm from \"../../components/CommentForm\";\r\n\r\n// Import pour la gestion des posts\r\nimport EditPost from \"../../components/articles/EditPost\";\r\nimport DeletePost from \"../../components/articles/DeletePost\";\r\n\r\n// Permet d'afficher les informations de l'utilisateur qui a créé un post losque celui-ci est un post partagé\r\nimport UserData from \"../../components/usersProfile/UserData\";\r\n\r\n// Import pour la gestion des erreurs\r\nimport ErrorBoundary from \"../../components/ErrorBoundary\";\r\n\r\n// Import Socials\r\nimport SharePost from \"../../components/articles/SharePost\";\r\n\r\nfunction Posts(props) {\r\n    const { access } = props;\r\n\r\n    const [postEdit, setPostEdit] = useState({\r\n        is_open: false,\r\n        id: null,\r\n    });\r\n    // const [postEdit_id, setPostEdit_id] = useState(0);\r\n    const [toggleComments, setToggleComments] = useState({\r\n        comments_is_open: false,\r\n        id: null,\r\n    });\r\n    // const [toggleComments_id, setToggleComments_id] = useState(0);\r\n\r\n    const [posts, setPosts] = useState({ posts: [] });\r\n\r\n    const decoded = jwt_decode(access);\r\n    const user_id = decoded.userId;\r\n    const role = decoded.role;\r\n\r\n    const url = `http://localhost:8080/api/articles`;\r\n    const reqOptions = {\r\n        method: \"GET\",\r\n        headers: {\r\n            Authorization: `Bearer ${access}`,\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n    };\r\n\r\n    const showEditForm = (id) => {\r\n        if (postEdit.is_open) {\r\n            setPostEdit({\r\n                is_open: false,\r\n                id: id,\r\n            });\r\n\r\n            if (id !== postEdit.id) {\r\n                setPostEdit({\r\n                    is_open: true,\r\n                    id: id,\r\n                });\r\n            }\r\n        } else {\r\n            setPostEdit({\r\n                is_open: true,\r\n                id: id,\r\n            });\r\n        }\r\n        // setPostEdit(!postEdit);\r\n        // setPostEdit_id(id);\r\n    };\r\n\r\n    const showComments = (id) => {\r\n        if (toggleComments.comments_is_open) {\r\n            setToggleComments({\r\n                comments_is_open: false,\r\n                id: id,\r\n            });\r\n\r\n            if (id !== toggleComments.id) {\r\n                setToggleComments({\r\n                    comments_is_open: true,\r\n                    id: id,\r\n                });\r\n            }\r\n        } else {\r\n            setToggleComments({\r\n                comments_is_open: true,\r\n                id: id,\r\n            });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            const res = await fetch(url, reqOptions);\r\n            const data = await res.json();\r\n\r\n            setPosts({ posts: data.articlesFound, DataIdLoaded: true });\r\n        }\r\n        fetchData();\r\n    }, [posts]);\r\n\r\n    const postsData = posts.posts;\r\n\r\n    if (!posts.DataIdLoaded) {\r\n        return (\r\n            <div>\r\n                <h1>Aucune donnée a afficher pour le moment...</h1>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const showPosts = postsData.map((post) => {\r\n        return (\r\n            <div className=\"article\" key={post.article.id}>\r\n                <Link to={\"/articles/\" + post.article.id}>\r\n                    <div className=\"article__header\">\r\n                        <div className=\"article__header--author\">\r\n                            <UserData\r\n                                realAuthor_id={post.article.author}\r\n                                dateTime={post.article.timestamp}\r\n                                access={access}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"article__header--share\">\r\n                            {!post.article.is_shared ? null : (\r\n                                <div className=\"sharedFlex\">\r\n                                    <div className=\"article__header--shared\">\r\n                                        <BiRepost />\r\n                                    </div>\r\n                                    <p>A partagé </p>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                    {/* Affichage du contenu de l'article */}\r\n                    <div className=\"article__content\">\r\n                        {post.article.is_shared ? (\r\n                            <div className=\"article__shareAuthor\">\r\n                                <div className=\"article__shareAuthor--margin\">\r\n                                    <UserData\r\n                                        realAuthor_id={post.article.original_author_id}\r\n                                        dateTime={post.article.post_shared_timestamp}\r\n                                        access={access}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        ) : null}\r\n                        <h2 className=\"article__header--title\">{post.article.title}</h2>\r\n\r\n                        {post.article.content}\r\n                        {!post.article.images ? null : (\r\n                            <img\r\n                                className=\"article__content--img\"\r\n                                src={post.article.images}\r\n                                alt={\"Photo de l'article \" + post.article.title}\r\n                            />\r\n                        )}\r\n                    </div>\r\n                </Link>\r\n\r\n                {/* FOOTER DES ARTICLES */}\r\n                <div className=\"article__footer\">\r\n                    <div className=\"article__footer--social\">\r\n                        <div className=\"social__wrapper\">\r\n                            {/* PARTAGER - SHARE */}\r\n                            <div className=\"social\">\r\n                                <span className=\"social__icon\">\r\n                                    <ErrorBoundary>\r\n                                        <SharePost post_id={post.article.id} access={access} />\r\n                                    </ErrorBoundary>\r\n                                </span>\r\n                                <span className=\"social__count\">{post.article.shares}</span>\r\n                            </div>\r\n\r\n                            {/* COMMENTAIRES BUTTON */}\r\n                            <div className=\"social\">\r\n                                {/* Ce bouton doit ouvrir la div contenant les composants de commentaires */}\r\n                                <button type=\"button\" className=\"btn\" onClick={() => showComments(post.article.id)}>\r\n                                    <BiComment />\r\n                                    <span className=\"social__count\">{post.article.comments}</span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* BOUTONS POUR MODIFIER ET SUPPRIMER UN POST */}\r\n                        {post.article.is_shared ? (\r\n                            // si l'article est un partage\r\n                            <div className=\"social__icon social__postManage\">\r\n                                <div className=\"social__icon cancelShare\">\r\n                                    {/* Mettre le composant share ici */}\r\n                                    {user_id === post.article.author ? (\r\n                                        // Si l'utilisateur est le propriétaire\r\n                                        <div>\r\n                                            <div className=\"social__icon shareBtn\">\r\n                                                {/* Cancel Sharing */}\r\n                                                <SharePost\r\n                                                    // id=\"cancelShare\"\r\n                                                    is_shared={post.article.is_shared}\r\n                                                    post_id={post.article.shared_id}\r\n                                                    access={access}\r\n                                                />\r\n                                                {/* cancel */}\r\n                                            </div>\r\n                                            <div className=\"social__icon deletePost\">\r\n                                                {user_id !== post.article.author || role === \"admin\" ? (\r\n                                                    // Si l'utilisateur n'est pas le propriétaire et qu'il est admin\r\n                                                    <DeletePost\r\n                                                        post_id={post.article.id}\r\n                                                        author_id={post.article.author}\r\n                                                        access={access}\r\n                                                    />\r\n                                                ) : null}\r\n                                            </div>\r\n                                        </div>\r\n                                    ) : null}\r\n                                </div>\r\n                                <div className=\"social__icon deletePost\">\r\n                                    {user_id !== post.article.author && role === \"admin\" ? (\r\n                                        // Si l'utilisateur n'est pas le propriétaire et qu'il est admin\r\n                                        <DeletePost\r\n                                            post_id={post.article.id}\r\n                                            author_id={post.article.author}\r\n                                            access={access}\r\n                                        />\r\n                                    ) : null}\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            // Si c'est un article normal\r\n                            <div className=\"social__icon social__postManage\">\r\n                                <div className=\"social__icon editPost\">\r\n                                    {user_id === post.article.author ? (\r\n                                        // Si l'utilisateur est le propriétaire il peut modifier l'article\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            className=\"btn\"\r\n                                            onClick={() => showEditForm(post.article.id)}\r\n                                        >\r\n                                            <p hidden>Afficher le formulaire de modification</p>\r\n                                            <BiEditAlt />\r\n                                        </button>\r\n                                    ) : null}\r\n                                </div>\r\n                                <div className=\"social__icon deletePost\">\r\n                                    {user_id === post.article.author || role === \"admin\" ? (\r\n                                        <DeletePost\r\n                                            post_id={post.article.id}\r\n                                            author_id={post.article.author}\r\n                                            access={access}\r\n                                        />\r\n                                    ) : null}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* AFFICHAGE DES COMPOSANTS DE L'ARTICLE */}\r\n                    <div className=\"article__displayComponents\">\r\n                        {/* AFFICHAGE DU FORMULAIRE POUR MODIFIER L'ARTICLE */}\r\n\r\n                        {postEdit.id == post.article.id ? (\r\n                            <div\r\n                                className=\"article__editPost\"\r\n                                style={{\r\n                                    display: postEdit.is_open ? \"block\" : \"none\",\r\n                                }}\r\n                            >\r\n                                <ErrorBoundary>\r\n                                    <EditPost\r\n                                        post_id={post.article.id}\r\n                                        author_id={post.article.author}\r\n                                        post_title={post.article.title}\r\n                                        post_content={post.article.content}\r\n                                        post_img={post.article.images}\r\n                                        access={access}\r\n                                    />\r\n                                </ErrorBoundary>\r\n                            </div>\r\n                        ) : null}\r\n\r\n                        {/* AFFICHAGE DES COMPOSANTS COMMENTAIRE */}\r\n                        <div className=\"article__comments\">\r\n                            {/* AFFICHAGE DES COMMENTAIRES DE L'ARTICLE */}\r\n                            {toggleComments.id == post.article.id ? (\r\n                                <div\r\n                                    className=\"comments showAllComments\"\r\n                                    style={{ display: toggleComments.comments_is_open ? \"block\" : \"none\" }}\r\n                                >\r\n                                    <ErrorBoundary>\r\n                                        <Comments post_id={post.article.id} access={access} />\r\n                                    </ErrorBoundary>\r\n                                </div>\r\n                            ) : null}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    });\r\n\r\n    return showPosts;\r\n}\r\n\r\nexport default Posts;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}